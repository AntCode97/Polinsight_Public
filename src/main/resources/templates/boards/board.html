<!DOCTYPE html>
<html lang="ko">
<html xmlns:th="http://www.thymeleaf.org">

<head>
<<<<<<< HEAD
  <style type="text/css">
    .-tblList thead th {
      color: #454545;
      font-weight: bold;
      letter-spacing: -0.5px;
      text-align: center;
      background-color: #f9f9f9;
      border-bottom: 1px solid rgb(0, 0, 0);
      border-top: 1px solid rgb(0, 0, 0);
      padding: 7px 5px 8px 5px;
      margin: 0px;
      font-size: 14px;
      border-collapse: collapse;
      position: relative;
      /*font-family: "맑은 고딕", malgun gothic, dotum;*/
      display: table-cell;
      border-spacing: 0;
      vertical-align: inherit;
    }

    .caption {
      padding-bottom: 50px;
      font-size: 30px;
      /*font-family: "맑은 고딕", malgun gothic, dotum;*/
      text-align: center;
      border-bottom: 1px solid rgb(0, 0, 0);
    }

    .-btnPageLink {
      text-align: center;
      padding: 15px 0;
    }

    .btn-tpl {
      display: inline-block;
      vertical-align: middle;
      margin: 0 4px;
      -webkit-appearance: none;
      box-sizing: border-box;
      cursor: pointer;
      white-space: nowrap;
      border-radius: 3px;
      font-weight: bold;
      letter-spacing: -1px;
      background: #4C4C4C;
      border: 1px solid #4C4C4C;
      text-shadow: #292929 0 0 1px;
      color: #fff;
    }

    [class*="LF_page_link"] {
      display: inline-block;
      min-width: 27px;
      height: 25px;
      box-sizing: border-box;
    }

    [class*="bdList"] .-bdSchWrap {
      text-align: left;
      background-color: #fff;
      padding: 10px 30px;
      margin-bottom: 30px;
      position: relative;
    }

    .AB-select {
      background-image: url(icon_select_arrow_m.png);
      background-position: right center;
      background-repeat: no-repeat;
      background-color: #fff;
      background-size: 21px;
      padding-right: 17px;
      padding-left: 2px;
      -moz-appearance: none;
      -webkit-appearance: none;
      appearance: none;
    }
  </style>
</head>

<body class="PC">
<div class="ABA-wrap-box AB-cr">
  <div class="ABA-container-box">
    <div class="ABA-content-box">
      <div>
        <div class="GNB-color-02 LNB-h LNB-tab" style="margin-bottom:5px;">
          <div class="ABA-lnb-box" id="ABA-lnb-104500">

            <div class="ABA-body-lnb">
              <div class="lnb-2dph">
                <div class="ABA-bglnb-left"></div>
                <ul class="ABA-lnb">
                  <li class="AB-first AB-current-lnb AB-child" id="AB-lnb-104500-1">
                    <a class="" href="@{/boards}">공지사항<span class="AB-lleft"></span> <span class="AB-rleft"></span></a>
                  </li>
                  <li class="AB-last" id="AB-lnb-104500-2">
                    <a class="" href="">문의사항<span class="AB-lleft"></span> <span class="AB-rleft"></span> </a>
                  </li>
                </ul>
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="ABA-wrap-box AB-cr ABA-layout-align" id="ABA-column-wrap" style="padding:20px 0 30px 0;">
  <div class="ABA-container-box-1200">
    <div id="AB_contents">
      <form action="kwa-jobopening" enctype="multipart/form-data" id="TCBOARD_jobopening_LIST_index192" method="post" name="TCBOARD_jobopening_LIST_index192"
            submit-func="return TCBOARD_jobopening_LIST_index192_submit(this, &quot;&quot;);" vi="">
        <div class="ABA-content-box bdList">
          <div>
            <div class="-bdSchWrap">
              <div><select class="AB-select onlyPC AB-move-url" name="SCH_category_1"
                           rel="kwa-jobopening?SCH_category_1=">
                <option selected="" value="">분류선택</option>
                <option value="A">공지</option>
                <option value="B">이벤트</option>
              </select><select class="AB-select admin-width-d onlyPC" name="search_item">
                <option value="A">통합검색</option>
                <option value="subject">제목</option>
              </select>
                <input type="text" />
                <input class="btn-tpl btn-round-03 btn-pattern-B08 btn-size-08 btn-b" data-cbk="" data-cbk-a="" data-cbk-time="100"
                       data-overlay="Y" id="AB_btn_submit_sch"
                       name="submit_OK" type="submit" value="검색하기">
              </div>
            </div>
          </div>

          <div>
            <div class="articleList">
              <div>
                <table class="-tblList" th:object="${board}">
                  <thead>
                  <tr class="onlyPC">
                    <th height="36" th:text="${board.id}" width="50"></th>
                    <th th:text="${board.title}" width="300"></th>
                    <th width="90">
                      <th:block th:unless="${session.user} == null">
                        <span th:text="${session.user}?${session.user.name}:'guest'"></span>

                      </th:block>
                    </th>
                    <th th:text="${#temporals.format(board.registeredAt, 'yyyy년 MM월 dd일 HH:mm')}" width="140"></th>
                  </tr>
                  </thead>
                  <tbody>
                  <ul>
                    <li th:each="file : ${files}">
                      <a th:href="${file}" th:text="${file}" />
                    </li>
                  </ul>
                  <tr>
                    <td class="onlyPC" th:utext="${board.viewcontent}" width="140"></td>
                  </tr>
                  <td>
                    <a role="button" th:href="@{/boards/{id}/edit (id=${board.id})}">수정</a>
                  </td>
                  </tbody>
                </table>
              </div>
            </div>
          </div>

          <div>
            <div class="-btnPageLink">
              <div><span class="LF_page_link_current"><b>1</b></span>
                <a class="LF_page_link_next_page" href="/kwa-jobopening?search_item=A&amp;PB_1618220647=2">
                  <img align="center" alt="다음 페이지로 이동" border="0" class="LF_page_link_next_page_img" src="/static/img/board/list_next.png"></a>
                <a class="LF_page_link_last_page" href="/kwa-jobopening?search_item=A&amp;PB_1618220647=2">
                  <img align="center" alt="마지막 페이지로 이동" border="0" class="LF_page_link_last_page_img" src="/static/img/board/last_page.png"></a>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
=======
    <style>
        a {
            text-decoration: none
        }

        a:link,
        a:visited,
        a:hover {
            color: #191919;
        }



        .web {
            margin: auto;
            width: 1200px;
        }

        img {
            margin-left: -2px;
            margin-right: -2px;
            padding: 0;
        }

        .sub-main {
            height: 50px;
            padding-bottom: 0px;
            border-bottom: 1px solid #EFEEEC;
        }

        ul li {
            list-style-type: none;
            float: left;
        }

        .sub-main li {
            width: 150px;
            height: 100%;
            font-size: 20px;
            color: white;
            text-align: center;
            line-height: 250%;
        }

        .notice {
            background-color: #1A2738;
            border: 1px solid #1A2738;
        }

        .qna {
            background-color: #EFEEEC;
            border: 1px solid #EFEEEC;
        }

        .sub-main-name {
            width: 1000px;
            padding-top: 50px;
            padding-bottom: 50px;
            margin-bottom: 50px;
            font-size: 25px;
            text-align: center;
            border-bottom: 1px solid rgb(0, 0, 0);
        }


        .information {
            /*height: 210px;*/
            padding-bottom: 15px;
        }


        .information_title {
            display: flex;
            width: 1000px;
            border-top: 2px solid rgb(0, 0, 0);
            border-bottom: 1px solid gray;
            line-height: 40px;
        }

        .titleContent {
            width: 1000px;
            height: 80px;
            line-height: 80px;
            background-color: #EFEEEC;
            font-size: 20px;
            padding-left: 20px;
        }

        .information_write {
            width: 980px;
            font-size: 14px;
            display: flex;
            border-bottom: 1px solid gray;
            padding-left: 20px;
        }

        .margin {
            font-size: 14px;
            height: 40px;
            line-height: 40px;
            color: gray;
            margin-right: 10px;
        }

        .information_name,
        .information_date {
            display: flex;
            font-size: 14px;
        }


        .name,
        .date {
            height: 40px;
            line-height: 40px;
            font-size: 14px;
        }

        .nameContent,
        .dateContent,
        .information_count {
            height: 40px;
            line-height: 40px;
            font-size: 14px;
        }

        .nameContent {
            width: 100px;
        }


        .dateContent {
            width: 200px;
        }

        .information_file {
            display: flex;
            width: 1000px;
            /*height: 150px;*/
            border-bottom: 1px solid gray;
        }

        .file {
            width: 100px;
            font-size: 20px;
            line-height: 50px;
            padding-left: 20px;
        }

        .fileContent {
            line-height: 40px;
            font-size: 15px;
            padding-left: 5px;
            /*height: 150px;*/
            margin-top: 5px;
        }


        .file1,
        .file2,
        .file3 {
            display: flex;
            line-height: 45px;
            font-size: 14px;
        }

        .fileName {
            width: 800px;
            height: 50px;
            line-height: 50px;
            font-size: 14px;
        }

        .viewFile {
            color: gray;
            width: 100px;
            height: 35px;
            line-height: 35px;
            margin-top: 5px;
            padding-left: 4px;
            border: 1px solid gray;
            border-radius: 5px 5px 5px 5px;
        }

        .fileButton {
            width: 20px;
            height: 20px;
            margin-left: 10px;
        }

        .letter {
            width: 1000px;
            margin-top: 10px;
        }

        .postContent {
            width: 1000px;
            height: 200px;
            margin-bottom: 10px;
            border-bottom: 1px solid lightgray;
        }

        .Button {
            display: flex;
            width:1000px;
            height:50px;
            padding-left: 800px;
            margin-top: 20px;
            margin-bottom: 20px;
        }

        .modifyButton,
        .listButton {
            text-align: center;
            line-height: 200%;
            width: 90px;
            height: 45px;
            line-height: 45px;
            font-size: 15px;
            background-color: black;
            color: white;
            border-radius: 5px 5px 5px 5px;
            border: 1px solid black;
            margin-left: 8px;
        }

        .postList {
            width: 1000px;
            height: 80px;
            background-color: rgb(241, 238, 238);
        }

        .nearPost {
            display: flex;
            height: 40px;
            line-height: 40px;
        }

        .nearPostLetter {
            width: 100px;
            padding-left: 10px;
            font-size: 15px;
        }

        .nearPostName{
            width:800px;
            font-size: 15px;
        }

        .nearPostDate{
            width:200px;
            font-size: 15px;
        }
        a.btn{
            color:white;
        }
    </style>
</head>

<body class="PC">
    <div class="web">
        <div class="sub-main">
            <span></span>
            <ul>
                <li class="notice">공지사항</li>
                <li class="qna">문의사항</li>
            </ul>
        </div>

        <div class="sub-main-name"><b>공지사항</b></div>

        <div class="board" th:object="${board}">
            <div class=information>
                <div class="information_title">
                    <div class="titleContent" th:text="*{title}"> <b>-제목-</b></div>
                </div>
                <div class="information_write">
                    <div class="information_name">
                        <div class="name">작성자&nbsp;: </div>
                        <div class="nameContent" th:text="*{user.name}">관리자</div>
                    </div>
                    <div class="margin"><b> | </b></div>
                    <div class="information_date">
                        <div class="date">작성일 : </div>
                        <div class="dateContent" th:text="${#temporals.format(board.registeredAt, 'yyyy-MM-dd HH:mm')}"> -작성일-</div>
                    </div>
                    <div class="margin"> <b> | </b> 조회수 :</div>
                    <div class="information_count" th:text="${board.viewcnt}"> 조회수 </div>
                </div>

                <div class="information_file">
                    <div class="file"><b>파일</b></div>
                    <div class="fileContent">
                        <div class="file1" th:each="file : ${board.attaches}">
                            <div class="fileName" >
                                <span class="file_item" th:text="'첨부파일#'"></span>
                                <a class="file_download" th:text="${file.originalName}" th:href="@{'/boards/'+${file.filePath}}" >


                            </a>
                            </div></div>



                    </div>
                </div>
            </div>

            <div class="letter">
                <div class="postContent">
                    <div th:text="${board.viewcontent}"></div>
                    <!--글 내용에 따라 높이 조정-->
                </div>
            </div>
            <span th:unless="${user} == null">
            <div class="Button" th:if="${user.role.toString()} =='ADMIN'">
                <div class="modifyButton">
                    <a  class="btn" th:href="@{/boards/{id}/edit (id=${board.id})}"> <b>수정</b></a>
                </div>
                <div class="listButton">
                    <a  class="btn" href="/boards" > <b>목록</b></a>
                </div>
            </div>
            </span>
            <div class="postList">
                <div class="nearPost" th:unless="${nextBoard} ==null">
                    <div class="nearPostLetter" > <b>다음글</b> &nbsp;&nbsp;&nbsp; | </div>
                    <div class="nearPostName" th:text="${nextBoard.title}" th:onclick="|location.href='@{/boards/{id} (id=${nextBoard.id})}'|"> -다음글 제목-</div>
                    <div class="nearPostDate" th:text="${#temporals.format(nextBoard.registeredAt, 'yyyy-MM-dd HH:mm')}">-다음글 날짜</div>
                </div>
                <div class="nearPost" th:unless="${prevBoard} ==null">
                    <div class="nearPostLetter"> <b>이전글 </b>&nbsp;&nbsp;&nbsp; | </div>
                    <div class="nearPostName" th:text="${prevBoard.title}" th:onclick="|location.href='@{/boards/{id} (id=${prevBoard.id})}'|"> -이전글 제목-</div>
                    <div class="nearPostDate" th:text="${#temporals.format(prevBoard.registeredAt, 'yyyy-MM-dd HH:mm')}">-이전글 날짜</div>
                </div>
            </div>

        </div>
>>>>>>> origin/board_file
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script type="text/javascript">
    window.onload = function () {
        let file_item = document.getElementsByClassName("file_item");
        let fileCount = file_item.length;

        console.log(fileCount, file_item);
        for (let i = 1; i <= fileCount; i++) {
            file_item[i - 1].innerText = "첨부파일#" + i;
        }
    }


    /* <![CDATA[ */
    var bno = [[${board.id}]];
    /* ]]> */

    $(function() {
        $('.nav_action').click(function() {
            var value = $(this).find('.arrow').attr('class');
            if(value == 'fas fa-caret-down arrow') {
                $(this).next('div').css('height', '100%');
                $(this).find('.arrow').attr('class', 'fas fa-caret-up arrow');
            }else if(value == 'fas fa-caret-up arrow') {
                $(this).next('div').css('height', '0');
                $(this).find('.arrow').attr('class', 'fas fa-caret-down arrow');
            }
        });

        // 삭제버튼 클릭시 모달창 Open
        $('.delete_btn').click(function(){
            if(reply_cnt == 0) { // 댓글이 없는 경우
                $('#modal_msg_main_txt').text(bno +"번 게시글을 삭제하시겠습니까?");
                $('#modal_msg_yes').css('display', 'block');
                $('#modal_msg_cancle').text('취 소');
            } else { // 댓글이 있는 경우
                $('#modal_msg_main_txt').text("댓글이 있는 게시글은 삭제할 수 없습니다.");
                $('#modal_msg_yes').css('display', 'none');
                $('#modal_msg_cancle').text('확 인');
            }

            $('.modal_msg_wrap').css('display', 'flex');
        });

        // 삭제 알림 모달창에서 확인버튼 Click -> 게시글 삭제
        $('#modal_msg_yes').click(function(){
            $.ajax({
                type: 'DELETE',
                url: '/boards/' + bno,
                dataType: 'json',
                contentType: 'application/json; charset=utf-8',
                success: function(data) {
                    if(data == 0) {
                        $('#modal_msg_main_txt').text("댓글이 있는 게시글은 삭제할 수 없습니다.");
                        $('#modal_msg_yes').css('display', 'none');
                        $('#modal_msg_cancle').text('확 인');
                        $('.modal_msg_wrap').css('display', 'flex');
                    } else if(data == 9) {
                        $('#modal_msg_main_txt').text("비정상적인 접근입니다.");
                        $('#modal_msg_yes').css('display', 'none');
                        $('#modal_msg_cancle').text('확 인');
                        $('.modal_msg_wrap').css('display', 'flex');
                    } else {
                        location.href = "/boards"
                    }
                },
                error: function() {
                    alert('System ERROR:(');
                }
            });
        });
    });
</script>
</html>
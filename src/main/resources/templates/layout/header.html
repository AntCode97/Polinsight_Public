<!DOCTYPE html>
<html
  dir="ltr"
  lang="en"
  xmlns:th="http://www.thymeleaf.org"
  xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
>
  <th:block th:include="module/common" />
  <head>
    <title>폴인사이트</title>
    <link rel="icon" th:href="@{/favicon.ico}" />
    <meta charset="UTF-8" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <style>
      .header_wrap {
        background-color: rgba(35, 24, 21, 0.4);
        left: 0;
        position: fixed;
        top: 0;
        width: 100%;
        height: 70px;
        z-index: 9999;
      }

      .header_box {
        align-items: center;
        color: white;
        display: flex;
        height: 100%;
        justify-content: space-between;
        margin: 0 auto;
        width: 1200px;
      }

      .header_logo a {
        align-items: center;
        display: flex;
        height: 100%;
        justify-content: center;
      }

      .header_logo img {
        width: 180px;
      }

      .header_container_navi {
        align-items: center;
        display: flex;
        height: 100%;
        justify-content: space-between;
        position: relative;
      }

      .navi_box > li {
        line-height: 70px;
      }

      .navi_box > li > a {
        display: block;
        font-size: 18px;
        /*line-height: 100%;*/
        height: 100%;
        padding: 0 40px;
      }

      .navi_box > li:hover > a {
        color: #4c99cf;
      }

      .navi_box > li:hover .dropdown {
        height: 35px;
      }

      .dropdown {
        background-color: rgba(18, 39, 55, 0.8);
        display: block;
        height: 0px;
        overflow: hidden;
        position: absolute;
        top: 70px;
        transition: 0.2s;
      }

      .dropdown_box {
        align-items: center;
        display: flex;
        justify-content: space-between;
        padding: 0 5px;
      }

      .dropdown_element {
        color: white;
        display: inline-block;
        font-size: 14px;
        font-weight: normal;
        line-height: 35px;
        padding: 0 15px;
      }

      .dropdown_element:hover {
        color: #4c99cf;
      }

      .header_container_login {
        align-items: center;
        display: flex;
        justify-content: space-between;
      }

      .header_container_login {
        margin-left: 25px;
        padding: 0 20px;
      }

      .header_container_login > a {
        font-size: 18px;
      }

      .header_container_login > a:hover {
        color: #4c99cf;
      }

      .header_container_login > span {
        background: white;
        display: inline-block;
        height: 15px;
        margin: 0 10px;
        width: 0.2px;
      }

      /*배너이미지*/
      .carasel_wrap::before {
        /*background-color : #444444;*/
        content: "";
        /*opacity: 0.4;*/
        height: 50vh;
        left: 0;
        position: absolute;
        /*top              : -80px;*/
        width: 100%;
      }

      .carasel_wrap {
        background-image: url("/img/banner/polinsight_banner.jpg");
        background-position: center, center;
        background-size: cover;
        height: 50vh;
        min-width: 1200px;
        overflow: hidden;
        width: 100%;
      }

      .navbar-toggle {
        background: transparent;
        border: none;
        color: white;
        cursor: pointer;
        display: none;
        font-size: 22px;
        outline: none;
      }

      .header_container_right_wrap {
        align-items: center;
        display: flex;
        justify-content: space-between;
      }

      .nav-text-window {
        background-color: white;
        border-radius: 5px;
        box-shadow: 0 50px 100px rgb(50 50 93 / 10%),
          0 15px 35px rgb(50 50 93 / 15%), 0 5px 15px rgb(0 0 0 / 10%);
        display: none;
        margin: 10px;
        overflow: hidden;
        padding: 20px;
        position: fixed;
        top: 0;
        width: calc(100% - 20px);
        z-index: 20000;
      }

      .nav-window-header {
        align-items: center;
        border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        display: flex;
        gap: 10px;
        justify-content: space-between;
        margin-bottom: 1.1rem;
        padding-bottom: 1.1rem;
      }

      .nav-window-logo {
        width: 80px;
      }

      .nav-window-close-btn {
        color: rgba(0, 0, 0, 0.8);
        cursor: pointer;
        font-size: 24px;
      }

      .nav-window-close-btn > i {
        font-weight: 200;
      }

      .navbar-hr {
        border: none;
        border-top: 1px solid rgba(0, 0, 0, 0.1);
        margin: 2rem 0;
      }

      .navbar-nav {
        display: flex;
        flex-direction: column;
        list-style: none;
        margin-bottom: 0;
        padding-left: 0;
      }

      .nav-link {
        color: #172b4d !important;
        display: block;
        font-size: 1rem;
        font-weight: 500;
        letter-spacing: 0;
        padding: 0.8rem 0;
      }

      .nav-link:hover {
        color: #3885ca !important;
      }

      .nav-link > i {
        margin-right: 4px;
      }

      .mem-link {
        color: white;
        display: block;
        font-size: 18px;
        height: 100%;
        letter-spacing: 0;
        padding: 0 5px;
      }

      .mem-link:hover {
        color: #3885ca !important;
      }

      @media (min-width: 320px) and (max-width: 480px) {
        .header_box {
          min-width: 320px;
          padding: 0 20px;
          width: 100%;
        }

        .header_logo img {
          width: 110px;
        }

        .header_container_right_wrap {
          display: none;
        }

        .navbar-toggle {
          display: block;
        }

        .header_wrap {
          height: 50px;
        }

        /* TOP Button */
        .top-btn {
          bottom: 20px;
          height: 45px;
          right: 10px;
          width: 45px;
        }

        .top-btn > span {
          display: none;
        }
      }
    </style>
  </head>
  <body>
    <!-- 반응형 웹: 햄버거 버튼 클릭시 Window-->
    <div class="nav-text-window">
      <div class="nav-window-header">
        <div>
          <a th:href="@{/}">
            <img th:src="@{/img/logo/logo.png}" class="nav-window-logo" />
          </a>
        </div>
        <div class="nav-window-close-btn"><i class="fas fa-times"></i></div>
      </div>
      <ul class="navbar-nav">
        <li class="nav-item">
          <a th:href="@{/company/introduce}" class="nav-link" name="company">COMPANY</a>
        </li>
        <li class="nav-item">
          <a th:href="@{/business/category}" class="nav-link" name="business">BUSINESS</a>
        </li>
        <li class="nav-item">
          <a th:href="@{/research/online}" class="nav-link" name="research">RESEARCH</a>
        </li>
        <li class="nav-item">
          <a th:href="@{/posts}" class="nav-link" name="posts">CUSTOMER</a>
        </li>
      </ul>
      <hr class="navar-hr" />
      <ul class="navbar-nav">
        <th:block sec:authorize="isAnonymous()">
          <li class="nav-item">
            <a th:href="@{/login}" class="nav-link"
              ><i class="fas fa-sign-in-alt"></i> LOGIN</a
            >
          </li>
          <li class="nav-item">
            <a th:href="@{/signup}" class="nav-link"
              ><i class="fas fa-user"></i> JOIN</a
            >
          </li>
        </th:block>
        <th:block sec:authorize="isAuthenticated()">
          <th:block sec:authorize="hasAnyAuthority('USER','PANEL','BEST')">
            <li class="nav-item">
              <a th:href="@{/mypage}" class="nav-link"
                ><i class="fas fa-user-circle"></i> MY PAGE</a
              >
            </li>
          </th:block>
          <li sec:authorize="hasAuthority('ADMIN')" class="nav-item">
            <a th:href="@{/admin}" class="nav-link"
              ><i class="fas fa-users-cog"></i> ADMIN</a
            >
          </li>
          <li class="nav-item">
            <a th:href="@{/dologout}" class="nav-link"
              ><i class="fas fa-sign-out-alt"></i> LOGOUT</a
            >
          </li>
        </th:block>
      </ul>
    </div>
    <button class="top-btn btn-circle">
      <i class="fas fa-arrow-up"></i>
      <span>TOP</span>
    </button>
    <div class="header_wrap">
      <div class="header_box">
        <div class="header_container_logo">
          <div class="header_logo">
            <a th:href="@{/}">
              <img alt="로고" th:src="@{/img/logo/white_logo_full.png}" />
            </a>
          </div>
        </div>
        <button class="navbar-toggle"><i class="fas fa-bars"></i></button>
        <div class="header_container_right_wrap">
          <div class="header_container_navi">
            <ul class="navi_box">
              <li>
                <a th:href="@{/company/introduce}" name="company">COMPANY</a>
                <div class="dropdown" style="left: 0px">
                  <div class="dropdown_box">
                    <a class="dropdown_element" th:href="@{/company/introduce}"
                      >인사말</a
                    >
                    <a class="dropdown_element" th:href="@{/company/map}"
                      >오시는길</a
                    >
                  </div>
                </div>
              </li>
            </ul>
            <ul class="navi_box">
              <li>
                <a th:href="@{/business/category}" name="business">BUSINESS</a>
                <div class="dropdown" style="left: 160.5px">
                  <div class="dropdown_box">
                    <a class="dropdown_element" th:href="@{/business/category}"
                      >분야별영역</a
                    >
                    <a class="dropdown_element" th:href="@{/business/result}"
                      >주요실적</a
                    >
                  </div>
                </div>
              </li>
            </ul>
            <ul class="navi_box">
              <li>
                <a th:href="@{/research/online}" name="research">RESEARCH</a>
                <div class="dropdown" style="left: 314.5px">
                  <div class="dropdown_box">
                    <a class="dropdown_element" th:href="@{/research/online}"
                      >온라인조사</a
                    >
                    <a class="dropdown_element" th:href="@{/research/pols}"
                      >폴'S인사이트</a
                    >
                  </div>
                </div>
              </li>
            </ul>
            <ul class="navi_box">
              <li>
                <a th:href="@{/posts}" name="posts">CUSTOMER</a>
                <div class="dropdown" style="right: 0px">
                  <div class="dropdown_box">
                    <a class="dropdown_element" th:href="@{/posts}">공지사항</a>
                    <a class="dropdown_element" th:href="@{/qna}">Q&A</a>
                  </div>
                </div>
              </li>
            </ul>
          </div>

          <div class="header_container_login">
            <th:block sec:authorize="isAnonymous()">
              <div class="nav-item">
                <a th:href="@{/login}" class="mem-link">LOGIN</a>
              </div>
              <div class="nav-item">
                <a th:href="@{/signup}" class="mem-link">JOIN</a>
              </div>
            </th:block>
            <th:block sec:authorize="isAuthenticated()">
              <th:block sec:authorize="hasAnyAuthority('USER','PANEL','BEST')">
                <div class="nav-item">
                  <a th:href="@{/mypage}" class="mem-link">MY PAGE</a>
                </div>
              </th:block>
              <th:block sec:authorize="hasAuthority('ADMIN')">
                <div class="nav-item">
                  <a th:href="@{/admin}" class="mem-link">ADMIN</a>
                </div>
              </th:block>
              <div class="nav-item">
                <a th:href="@{/dologout}" class="mem-link">LOGOUT</a>
              </div>
            </th:block>
          </div>
        </div>
      </div>
    </div>
  </body>
  <script th:inline="javascript">
    let url = window.location.href;
    let start_idx_num = url.indexOf('/', 9);
    let end_idx_num = url.indexOf('/', start_idx_num+1)
    console.log(start_idx_num)
    let url_keyword = ''
    if(end_idx_num == -1) {
      url_keyword = url.substring(start_idx_num+1)
    } else {
      url_keyword = url.substring(start_idx_num+1, end_idx_num)
    }
    console.log(url_keyword);
    if(url_keyword != '' || url_keyword.length != 0) {
      $('ul.navi_box > li > a[name='+url_keyword +']').css('color', '#4C99CF');
    }

    $(function () {
      // Scroll TOP버튼 생성 및 TOP으로 이동
      $(".top-btn").click(function () {
        $("html, body").animate({ scrollTop: 0 }, 800);
      });

      $(".nav-window-close-btn").click(function () {
        $(".nav-text-window").css("display", "none");
      });
      $(".navbar-toggle").click(function () {
        $(".nav-text-window").css("display", "block");
      });
    });
  </script>
</html>

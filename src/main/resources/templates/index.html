<th:block th:include="layout/header" />
<th:block>
  <style>
    .carasel_wrap {
      margin-top: -120px;
    }

    .panel_wrap {
      align-items: center;
      border: 1.5px solid #aaaaaa;
      display: flex;
      justify-content: center;
      margin: 30px auto 0;
      padding: 30px 0;
      width: 900px;
    }

    .panel_item_horizontal {
      display: flex;
    }

    .panel_item_vertical {
      display: flex;
      flex-direction: column;
    }

    .pol_color {
      color: #4c99cf;
    }

    .panel_item > p {
      font-size: 14px;
    }

    .panel_big_item {
      font-size: 25px !important;
      font-weight: bold;
      padding-bottom: 10px;
    }

    .panel_btn {
      font-size: 14px;
      padding: 7px 0;
      text-align: center;
      width: 110px;
    }

    .panel_btn_login {
      background-color: #182838;
      color: white;
      margin-right: 5px;
    }

    .panel_btn_join {
      background-color: #4c99cf;
      color: white;
    }

    .panel_line {
      background-color: #182838;
      height: 65px;
      margin: 0 30px;
      width: 2px;
    }

    /* 진행중인 온라인 조사 */
    .main_survey_list_wrap {
      align-items: center;
      background-color: #e1eef6;
      display: flex;
      flex-direction: column;
      height: 100%;
      justify-content: flex-start;
      margin: 30px auto 20px;
      min-width: 1200px;
      padding: 20px 30px;
      width: 100%;
    }

    .main_survey_list_title {
      align-items: flex-end;
      display: flex;
      justify-content: space-between;
      margin-bottom: 25px;
      width: 940px;
    }

    .main_survey_list_title > div {
      align-items: center;
      justify-content: flex-start;
      /*justify-content : space-between;*/
      width: 100%;
    }

    .survey_plus {
      color: #444444;
      cursor: pointer;
      font-size: 14px;
    }

    .survey_plus > i {
      margin-right: 3px;
    }

    .main_survey_list_title p {
      font-size: 25px;
      font-weight: bold;
      margin-right: 10px;
    }

    .survey_run,
    .survey_stop {
      font-size: 17px;
      font-weight: bold;
      margin-bottom: 10px;
    }

    .survey_title {
      color: #444444;
      font-size: 17px;
      font-weight: bold;
      margin-bottom: 45px;
    }

    .survey_point {
      border-bottom: 1px solid #c1c1c1;
      font-weight: bold;
      padding-bottom: 5px;
    }

    .survey_date {
      font-weight: bold;
      padding: 10px 0 20px;
      text-align: right;
    }

    .main_survey_item_wrap {
      align-items: center;
      display: flex;
      gap: 20px;
      justify-content: flex-start;
      margin-bottom: 20px;
      max-width: 940px;
    }

    .main_survey_item {
      border-radius: 5px;
      overflow: hidden;
      padding: 10px;
      width: 300px;
    }

    .survey_run {
      color: #4c99cf;
    }

    .survey_stop {
      color: #000000;
    }

    .bg_color_item_white {
      background-color: white;
    }

    .bg_color_item_gray {
      background-color: #dedede;
    }

    .survey_run,
    .survey_stop {
      font-size: 17px;
      font-weight: bold;
      margin-bottom: 10px;
    }

    .survey_title {
      font-size: 17px;
      font-weight: bold;
      height: 2rem;
      margin-bottom: 45px;
    }

    .survey_point {
      border-bottom: 1px solid #dadada;
      font-weight: bold;
      padding-bottom: 5px;
    }

    .survey_date {
      font-weight: bold;
      padding: 10px 0 20px;
      text-align: right;
    }

    .survey_run {
      color: #4c99cf;
    }

    .survey_stop {
      color: #000000;
    }

    .bg_color_item_white {
      background-color: white;
    }

    .bg_color_item_gray {
      background-color: #dedede;
    }

    .headline_wrap {
      align-items: center;
      color: red;
      display: none;
      flex-direction: column;
      font-size: 55px;
      gap: 10px;
      height: 100%;
      justify-content: center;
    }

    .small-headline {
      font-size: 14px;
    }
    .main_survey_list_title > div {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .survey_title_wrap {
      width: 100%;
      align-items: flex-start;
      display: flex;
      flex-direction: column;
      gap: 3px;
    }

    .panel_plus_wrap {
      min-width: 1200px;
    }

    /* 수동 이미지 슬라이드 */
    .main_image_slide {
      width: 940px;
      margin: 0 auto;
    }
    .main_image_slide h3 {
      font-size: 25px;
      font-weight: bold;
    }
    .title_image_slide {
      margin-bottom: 25px;
    }
    .image_slide_wrap {
      position: relative;
    }
    .image_slide_block_wrap {
      overflow: hidden;
    }
    .image_slide_block {
      width: 4140px;
      display: flex;
      gap: 20px;
      justify-content: flex-start;
      align-items: center;
      transition: all ease 0.5s;
    }
    .image_box {
      width: 300px;
      height: 250px;
      overflow: hidden;
      border-radius: 5px;
      background-image: url("/img/logo/logo.png");
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center center;
      border: 1px solid black;
    }
    .slide_arrow_btn {
      position: absolute;
      top: 100px;
      background: white;
      width: 50px;
      height: 50px;
      border-radius: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      font-size: 35px;
      z-index: 100;
      box-shadow: 0 0 1px 1px rgb(20 23 28 / 10%),
        0 3px 1px 0 rgb(20 23 28 / 10%);
      border: 0;
    }
    .slide_left_btn {
      left: -25px;
    }
    .slide_right_btn {
      right: -25px;
    }
    .slide_arrow_btn:hover {
      box-shadow: 0 2px 8px 2px rgb(20 23 28 / 15%);
      color: #4c99cf;
    }

    @media (min-width: 320px) and (max-width: 480px) {
      .carasel_wrap {
        height: 25vh;
        min-width: 0px;
        width: 100%;
      }

      .headline_wrap {
        display: none;
      }

      .panel_plus_wrap {
        min-width: 0px;
      }

      .panel_wrap {
        flex-direction: column;
        margin: 20px 10px;
        padding: 20px 0;
        width: calc(100% - 20px);
      }

      .panel_big_item {
        font-size: 20px !important;
      }

      .panel_item > p {
        font-size: 12px;
      }

      .panel_btn {
        font-size: 12px;
      }

      .panel_wrap > .panel_item_vertical:nth-child(1) {
        display: none;
      }

      .panel_wrap > .panel_line {
        display: none;
      }

      .panel_item_vertical {
        align-items: center;
      }

      .panel_item_horizontal {
        margin-top: 20px;
      }

      .main_survey_list_title {
        width: 100%;
      }

      .main_survey_list_title p {
        font-size: 17px;
      }

      .survey_title_wrap > span {
        display: none;
      }
      .main_survey_item_wrap {
        flex-direction: column;
      }

      .main_survey_item {
        width: 100%;
      }

      .main_survey_list_wrap {
        margin: 20px auto 20px;
        min-width: 0px;
        padding: 20px 10px;
      }

      .survey_run,
      .survey_stop {
        font-size: 14px;
      }

      .survey_point,
      .survey_date {
        font-size: 12px;
      }

      .survey_title {
        font-size: 14px;
        height: 100%;
        margin-bottom: 15px;
      }

      .survey_date {
        padding: 5px 0px;
      }

      .survey_plus {
        font-size: 12px;
      }
    }
  </style>

  <div class="flex-wrapper">
    <div class="flex-content">
      <div class="carasel_wrap"></div>
      <th:block th:if="${session.user==null}">
        <div class="panel_plus_wrap">
          <div class="panel_wrap">
            <div class="panel_item panel_item_vertical">
              <p class="panel_big_item">
                <span class="pol_color">폴인패널</span> 가입하기
              </p>
              <p>폴인사이트의 패널이 되어주세요.</p>
            </div>
            <div class="panel_line"></div>
            <div class="panel_item panel_item_vertical">
              <p class="panel_big_item">
                <span class="pol_color">폴인패널</span>이 된다면?
              </p>
              <p>폴인사이트가 진행하는 온라인조사 직접참여</p>
            </div>
            <div class="panel_line"></div>
            <div
              class="panel_item panel_item_horizontal"
              sec:authorize="isAnonymous()"
            >
              <a th:href="@{/login}" class="panel_btn panel_btn_login">LOGIN</a>
              <a th:href="@{/signup}" class="panel_btn panel_btn_join"
                >JOIN US</a
              >
            </div>
          </div>
        </div>
      </th:block>

      <div>
        <th:block th:include="survey/surveylist" />
      </div>

      <!-- 수동 이미지 슬라이드 -->
      <div class="main_image_slide">
        <div class="title_image_slide">
          <h3>제목 없음</h3>
        </div>
        <div class="image_slide_wrap">
          <div
            class="slide_arrow_btn slide_left_btn"
            style="visibility: hidden"
          >
            <i class="fas fa-angle-left"></i>
          </div>
          <div class="slide_arrow_btn slide_right_btn">
            <i class="fas fa-angle-right"></i>
          </div>
          <div class="image_slide_block_wrap">
            <div class="image_slide_block">
              <div class="image_box">그림 1</div>
              <div class="image_box">그림 2</div>
              <div class="image_box">그림 3</div>
              <div class="image_box">그림 4</div>
              <div class="image_box">그림 5</div>
              <div class="image_box">그림 6</div>
              <div class="image_box">그림 7</div>
              <div class="image_box">그림 8</div>
              <div class="image_box">그림 9</div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <th:block th:include="layout/footer" />
  </div>
  <script th:inline="javascript">
    // 수동 이미지 슬라이드 애니메이션 동작
    $(document).on("click", ".slide_left_btn", function () {
      const ml_value = $(".image_slide_block").css("margin-left");
      const val = Number(ml_value.replace(/[^0-9]/g, ""));
      if (val !== 0) {
        $(".slide_right_btn").css("visibility", "visible");
        $(".image_slide_block").css("margin-left", "-" + (val - 960) + "px");
      }
      if (val === 960) {
        $(this).css("visibility", "hidden");
      }
    });

    $(document).on("click", ".slide_right_btn", function () {
      const ml_value = $(".image_slide_block").css("margin-left");
      const val = Number(ml_value.replace(/[^0-9]/g, ""));
      if (val < 940 * 2) {
        $(".slide_left_btn").css("visibility", "visible");
        $(".image_slide_block").css("margin-left", "-" + (val + 960) + "px");
      }
      if (val === 960) {
        $(this).css("visibility", "hidden");
      }
    });
  </script>
</th:block>

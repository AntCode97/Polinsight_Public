<!DOCTYPE html>
<<<<<<< HEAD
<th:block th:include="module/common" />
<th:block th:include="layout/header" />
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8">
  <title></title>
<!--  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"-->
<!--        crossorigin="anonymous">-->
  <style type="text/css">
    /*@import url('common.css');*/

    .admin_wrap {
      position: relative;
      top: 0;
      height: 100vh;
      color: #3c4858;
    }

    .admin_sidebar, .admin_sidebar_wrap, .admin_main {
      transition-property: top, bottom, width;
      transition-duration: .2s, .2s, .35s;
      transition-timing-function: linear, linear, ease;
    }

    .admin_sidebar {
      background-color: #191919;
      height: 100%;
      max-height: 100%;

      position: fixed;
      top: 0;
      bottom: 0;
      left: 0;
      z-index: 2;
      width: 260px;
      box-shadow: 0 16px 38px -12px rgb(0 0 0 / 56%), 0 4px 25px 0 rgb(0 0 0 / 12%), 0 8px 10px -5px rgb(0 0 0 / 20%);
    }

    .admin_logo {
      padding: 15px 0;
      margin: 0;
      display: block;
      position: relative;
      z-index: 4;
    }

    .admin_logo:after {
      content: "";
      position: absolute;
      bottom: 0;
      right: 15px;
      height: 1px;
      width: calc(100% - 30px);
      background-color: hsla(0, 0%, 71%, .3);
    }

    .logo-mini {
      color: white;
      transition: all .3s linear;

      opacity: 1;
      float: left;
      width: 30px;
      text-align: center;
      margin-left: 23px;
      margin-right: 15px;
    }

    .simple-text {
      text-transform: uppercase;
      padding: 5px 0;
      display: inline-block;
      font-size: 18px;
      white-space: nowrap;
      font-weight: 400;
      line-height: 30px;
      overflow: hidden;
    }

    .logo-normal {
      display: block;
      opacity: 1;
      transform: translateZ(0);
      color: white;
    }

    .admin_sidebar_wrap {
      position: relative;
      height: calc(100vh - 75px);
      width: 260px;
      z-index: 4;
      padding-bottom: 30px;
    }

    .ps {
      overflow: hidden !important;
      overflow-anchor: none;
      touch-action: auto;
    }

    .admin_user {
      padding-bottom: 20px;
      margin: 20px auto 0;
      position: relative;
    }

    .admin_user_photo {
      width: 34px;
      height: 34px;
      overflow: hidden;
      float: left;
      z-index: 5;
      margin-right: 11px;
      border-radius: 50%;
      margin-left: 23px;
      box-shadow: 0 16px 38px -12px rgb(0 0 0 / 56%), 0 4px 25px 0 rgb(0 0 0 / 12%), 0 8px 10px -5px rgb(0 0 0 / 20%);
    }

    .user-info > a {
      color: white;
      font-size: 14px;
      line-height: 18px;
      display: block;
      padding: 8px 15px;
      white-space: nowrap;
    }

    .username {
      display: block;
      line-height: 18px;
      font-size: 14px;
    }

    .admin_user:after {
      content: "";
      position: absolute;
      bottom: 0;
      right: 15px;
      height: 1px;
      width: calc(100% - 30px);
      background-color: hsla(0, 0%, 71%, .3);
    }

    .admin_nav {
      margin-top: 15px;
      display: block;
      flex-wrap: wrap;
      padding-left: 0;
      margin-bottom: 0;
      list-style: none;
    }

    .nav_link {
      color: white;
      margin: 10px 15px 0;
      border-radius: 3px;
      padding: .5rem 10px;
      text-transform: capitalize;
      font-size: 13px;
      display: flex;
      justify-content: flex-start;
      align-items: center;
      transition: all .15s ease-in;
    }

    .nav_link > i {
      font-size: 20px;
      margin-right: 15px;
      line-height: 30px;
      width: 30px;
      text-align: center;
      vertical-align: middle;
    }

    .nav_link > p {
      width: 100%;
      margin: 0;
      line-height: 30px;
      font-size: 14px;
      position: relative;
      display: block;
      height: auto;
      white-space: nowrap;
    }

    .nav-item:hover > a {
      background-color: hsla(0, 0%, 78%, .2);
      box-shadow: none;
    }

    .nav_link > p > i {
      position: absolute;
      right: 6px;
      vertical-align: middle;
      line-height: 30px;
    }

    .nav_dropdown {
      padding-left: 40px;
    }

    .collapse-show {
      height: 0;
      overflow: hidden;
    }

    .admin_main {
      height: 100%;
      max-height: 100%;
      width: calc(100% - 260px);
      float: right;
      position: relative;
    }

    .admin_main_header {
      width: 100%;
      background-color: white;
      height: 51px;
      border-bottom: 1px solid #DDDDDD;
      box-shadow: 0 2px 2px 0 rgb(0 0 0 / 14%), 0 3px 1px -2px rgb(0 0 0 / 20%), 0 1px 5px 0 rgb(0 0 0 / 12%);
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 20px;
    }

    .admin_main_contents {
      height: 100%;
      background-color: #fafafa;
    }

    .contents_title {
      font-size: 1rem;
    }

    .right_menu > ul {
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .right_menu > ul > li {
      position: relative;
    }

    a.header_menu_item {
      width: 45px;
      height: 45px;
      display: flex;
      justify-content: center;
      align-items: center;
      margin-right: 20px;
      cursor: pointer;
      border-radius: 50%;
      border: 1.5px solid transparent;
    }

    .right_menu > ul > li:hover > a {
      border: 1.5px solid #dddddd;
      box-shadow: 0 2px 2px 0 hsl(0deg 0% 60% / 14%), 0 3px 1px -2px hsl(0deg 0% 60% / 20%), 0 1px 5px 0 hsl(0deg 0% 60% / 12%);
    }

    .right_menu > ul > li:hover > .dropdown_user {
      display: block;
    }

    .header_menu_item > i {
      font-size: 15px;
    }

    .dropdown_user {
      position: absolute;
      right: 0;
      background-color: white;
      width: 160px;
      box-shadow: 0 2px 5px 0 rgb(0 0 0 / 26%);
      border: 1.5px solid #dddddd;
      padding: 5px 0;
      z-index: 9999;
      display: none;
    }

    .dropdown_user > a {
      margin: 0 5px;
      padding: 10px 24px;
      display: block;
      border-radius: 2px;
    }

    .dropdown_user > a:hover {
      color: white;
      background-color: #3885CA;
      box-shadow: 0 4px 20px 0 rgb(0 0 0 / 14%), 0 7px 10px -5px rgb(5 0 153 / 40%);
    }

    .admin_main_contents {
      width: 100%;
      padding: 20px 40px 40px;
    }

    .contents_title > a > i {
      font-size: .9rem;
      margin-right: 5px;
    }

    .contents_title > a {
      position: relative;
    }

    .next-link {
      padding-left: 20px;
    }

    .next-link::before {
      content: '';
      background-image: url('imgs/dot_depth.gif');
      background-repeat: no-repeat;
      background-position: center center;
      position: absolute;
      top: 2px;
      left: 3px;
      width: 10px;
      height: 15px;
    }

    /* 여기까지 전체적인 레이아웃 */
    .main_item {
      color: #000;
      font-size: 2rem;
      font-weight: bold;
      padding: 10px 0 20px;
      border-bottom: 1px dashed #dadada;
    }

    /* 게시글판 디자인 */
    #metop_container {
      align-content: center;
      justify-content: center;
    }

    .metop_board_card {
      width: 100%;
      margin: 30px 0;
      padding: 40px 30px 20px 30px;
      border-radius: 2px;
      background: white;
      border-top: 3px solid #3885CA;
      box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14),
      0 3px 1px -2px rgba(0, 0, 0, .2),
      0 1px 5px 0 rgba(0, 0, 0, .12);
      position: relative;
    }

    /* 카드 제목 */
    .input_wrap {
      display: flex;
      align-items: center;
    }

    .last_wrap {
      margin-bottom: 10px;
    }

    .board_div {
      width: 100%;
      height: 100%;
      border-bottom: 1px solid #dadada;
      padding: 10px 10px;
      border-radius: 2px;
      font-size: 13px;
    }

    /* 제목 */
    .tile_info_wrap {
      display: flex;
      justify-content: space-between;
      align-content: center;
    }

    .type_icon {
      border-radius: 2px;
      color: #3885CA;
      padding: 2px 5px;
      margin-left: 7px;
      font-weight: normal;
      font-size: 12px;
    }

    .type_color {
      border: 1px solid #3885CA;
    }

    .post_no {
      font-size: 13px;
      color: #515151;
      font-weight: bold;
    }

    .title_text > span {
      font-size: 20px;
      color: #515151;
    }

    .regdate {
      color: #515151;
      font-size: 14px;
    }

    .updatedate {
      color: #515151;
      font-size: 14px;
      text-decoration: underline;
    }

    /* 작성자 */
    #writer_div {
      height: 48px;
      line-height: 26px;
    }

    .post_count_wrap > div {
      margin-left: 5px;
      min-width: 48px;
      height: 48px;
      border: 1px solid #ddd;
      box-sizing: border-box;
      text-align: center;
      font-size: 13px;
      font-family: sans-serif;
      color: #515151;
      cursor: pointer;
      border-radius: 5px;
      position: relative;
      overflow: hidden;
    }

    .viewcnt:hover {
      border: 2px solid #3885CA;
    }

    .replycnt:hover {
      border: 2px solid #FF6347;
    }

    .goodcnt:hover {
      border: 2px solid tomato;
    }

    .downcnt:hover {
      border: 2px solid mediumseagreen;
    }

    .post_count_wrap strong {
      font-size: 1rem;
      display: block;
      font-weight: 400;
      line-height: 26px;
    }

    .textarea_div {
      align-items: flex-start;
    }

    /* 첨부파일 */
    .form-group > label {
      margin-top: 10px;
    }

    .form-group .board_div {
      border: 1.5px dashed #dadada;
      text-align: center;
      height: 130px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #515151;
    }

    /* 등록/취소 버튼 */
    .btn_wrap {
      border: 0;
      border-radius: 0;
      display: flex;
      justify-content: space-between;
      margin-top: 25px;
    }

    .board_btn {
      padding: 12px 22px;
      background: white;
      border-radius: 2px;
      font-size: 14px;
      text-decoration: none;
      transition: box-shadow .2s cubic-bezier(.4, 0, 1, 1),
      background-color .2s cubic-bezier(.4, 0, .2, 1);
      color: white;
    }

    .board_btn:hover {
      box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14),
      0 3px 1px -2px rgba(0, 0, 0, .2),
      0 1px 5px 0 rgba(0, 0, 0, .12);
      box-shadow: 0 14px 26px -12px hsla(0, 0%, 60%, .42),
      0 4px 23px 0 rgba(0, 0, 0, .12),
      0 8px 10px -5px hsla(0, 0%, 60%, .2);
    }

    /* 버튼 색상들 */
    .list_btn {
      background-color: #3885CA;
    }

    .update_btn {
      background-color: #EBA444;
    }

    .delete_btn {
      background-color: tomato;
    }

    .btn_wrap1 {
      margin-left: -10px;
    }

    .btn_wrap2 {
      margin-right: -10px;
    }

    .list_btn > i, .delete_btn > i, .update_btn > i {
      font-weight: normal;
      font-size: 17px;
      padding-right: 5px;
    }

    .uploadedList > li {
      border-radius: 2px;
      margin-right: 5px;
      box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14), 0 3px 1px -2px rgba(0, 0, 0, .2), 0 1px 5px 0 rgba(0, 0, 0, .12);
    }

    /* 첨부파일 */
    .form-group {
      align-items: flex-start;
    }

    .form-group > label {
      margin-top: 10px;
    }

    .form-group .board_div {
      border: 1.5px dashed #dadada;
      text-align: center;
      height: 150px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #515151;
      font-size: 15px;
    }

    .mailbox-attachment-icon {
      padding: 10px 5px;
    }

    .mailbox-attachment-info {
      padding: 5px 10px;
      background: #303740;
      color: white;
    }

    .title_div {
      border-top: 2px solid #7c7c7c;
      background-color: #f9f9f9;
    }

    .board_div > label {
      font-weight: bold;
      padding-right: 7px;
      margin-right: 7px;
      border-right: 1px solid #EFEFEF;
    }

    .label_padding {
      padding-left: 20px;
    }

    .file_download {
      color: #007791;
    }

    .file_download:hover {
      text-decoration: underline;
    }

  </style>
</head>
<body>
<th:block th:include="admin/admin_sidebar" />
<section>
  <div id="metop_container">
    <div class="metop_inner">
      <!-- 상세 게시글 창 -->
      <div class="metop_board_wrap">
        <div class="metop_board_card">
          <form name="" action="" method="POST">
            <div class="input_wrap title_div">
              <div class="board_div">
                <div class="tile_info_wrap">
                  <div>
                    <span class="post_no" th:text="'['+${one.id}+']번째 글'"></span>
                  </div>
                </div>
                <div class="title_text">
                  <span th:text="${one.title}">폴인사이트입니다.</span>
                </div>
              </div>
            </div>

            <div class="input_wrap">
              <div class="board_div" id="writer_div">
                <label>작성자</label>
                <span th:text="${one.writer}">관리자</span>
              </div>
            </div>
            <div class="input_wrap">
              <div class="board_div">
                <label>작성일</label>
                <span class="regdate" th:if="${one.regdate == one.updatedate}" th:text="${#temporals.format(one.regdate, 'yyyy-MM-dd HH:mm')}"></span>
                <span class="updatedate" th:unless="${one.regdate == one.updatedate}" th:text="${#temporals.format(one.updatedate, 'yyyy-MM-dd HH:mm')} + '(수정)'"></span>

                <label class="label_padding">조회</label>
                <span th:text="${one.viewcnt}">12</span>
              </div>
            </div>
            <div th:each="file : ${files}" class="input_wrap">
              <div class="board_div">
                <label th:text="'첨부파일#' + ${fileStat.index + 1}"></label>
                <a class="file_download" th:href="@{'/attach/' + ${file.id}}" th:text="${file.orignalFileName}"></a>
              </div>
            </div>
            <div class="input_wrap textarea_div">
              <div class="board_div" th:text="${one.viewcontent}">
                폴인사이트 에요~ 우리는 변덕쟁이랍니다.
              </div>
            </div>

            <!-- 취소 & 등록 버튼 -->
            <div class="input_wrap last_wrap">
              <div class="board_div btn_wrap">
                <div class="btn_wrap1">
                    											<span>

                    												<a href="${header.referer}" class="board_btn list_btn"> <i class="far fa-file-alt"></i>목록</a>
                    											</span>
                </div>
                <th:block sec:authorize="isAuthenticated()">
                  <div class="btn_wrap2" th:if="${#authentication.principal.name == one.writer}">
                                                    <span>
                                                        <a th:href="@{'/boards/modify/' + ${one.id}}" class="board_btn update_btn"><i class="fas fa-edit"></i>수정</a>
                                                    </span>
                    <span>
                                                        <a href="#" class="board_btn delete_btn"><i class="far fa-trash-alt"></i>삭제</a>
                                                    </span>
                  </div>
                </th:block>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>

</div>
</div>
</div>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script type="text/javascript">
  /* <![CDATA[ */
  var bno = [[${one.id}]];
  /* ]]> */

  $(function () {
    $('.nav_action').click(function () {
      var value = $(this).find('.arrow').attr('class');
      if (value == 'fas fa-caret-down arrow') {
        $(this).next('div').css('height', '100%');
        $(this).find('.arrow').attr('class', 'fas fa-caret-up arrow');
      } else if (value == 'fas fa-caret-up arrow') {
        $(this).next('div').css('height', '0');
        $(this).find('.arrow').attr('class', 'fas fa-caret-down arrow');
      }
    });

    // 삭제버튼 클릭시 모달창 Open
    $('.delete_btn').click(function () {
      if (reply_cnt == 0) { // 댓글이 없는 경우
        $('#modal_msg_main_txt').text(bno + "번 게시글을 삭제하시겠습니까?");
        $('#modal_msg_yes').css('display', 'block');
        $('#modal_msg_cancle').text('취 소');
      } else { // 댓글이 있는 경우
        $('#modal_msg_main_txt').text("댓글이 있는 게시글은 삭제할 수 없습니다.");
        $('#modal_msg_yes').css('display', 'none');
        $('#modal_msg_cancle').text('확 인');
      }

      $('.modal_msg_wrap').css('display', 'flex');
    });

    // 삭제 알림 모달창에서 확인버튼 Click -> 게시글 삭제
    $('#modal_msg_yes').click(function () {
      $.ajax({
        type: 'DELETE',
        url: '/boards/' + bno,
        dataType: 'json',
        contentType: 'application/json; charset=utf-8',
        success: function (data) {
          if (data == 0) {
            $('#modal_msg_main_txt').text("댓글이 있는 게시글은 삭제할 수 없습니다.");
            $('#modal_msg_yes').css('display', 'none');
            $('#modal_msg_cancle').text('확 인');
            $('.modal_msg_wrap').css('display', 'flex');
          } else if (data == 9) {
            $('#modal_msg_main_txt').text("비정상적인 접근입니다.");
            $('#modal_msg_yes').css('display', 'none');
            $('#modal_msg_cancle').text('확 인');
            $('.modal_msg_wrap').css('display', 'flex');
          } else {
            location.href = "/boards"
          }
        },
        error: function () {
          alert('System ERROR:(');
        }
      });
    });
  });
</script>
=======
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    <style type="text/css">
      @import url('common.css');
      .admin_wrap {
        position: relative;
        top: 0;
        /*height: 100vh;*/
        color: #3c4858;
      }

      .admin_sidebar, .admin_sidebar_wrap, .admin_main{
        transition-property: top, bottom, width;
        transition-duration: .2s, .2s, .35s;
        transition-timing-function: linear, linear, ease;
      }

      .admin_sidebar {
        background-color: #191919;
        height: 100%;
        max-height: 100%;

        position: fixed;
        top: 0;
        bottom: 0;
        left: 0;
        z-index: 2;
        width: 260px;
        box-shadow: 0 16px 38px -12px rgb(0 0 0 / 56%), 0 4px 25px 0 rgb(0 0 0 / 12%), 0 8px 10px -5px rgb(0 0 0 / 20%);
      }
      .admin_logo {
        padding: 15px 0;
        margin: 0;
        display: block;
        position: relative;
        z-index: 4;
      }
      .admin_logo:after {
        content: "";
        position: absolute;
        bottom: 0;
        right: 15px;
        height: 1px;
        width: calc(100% - 30px);
        background-color: hsla(0, 0%, 71%, .3);
      }
      .logo-mini {
        color: white;
        transition: all .3s linear;

        opacity: 1;
        float: left;
        width: 30px;
        text-align: center;
        margin-left: 23px;
        margin-right: 15px;
      }
      .simple-text {
        text-transform: uppercase;
        padding: 5px 0;
        display: inline-block;
        font-size: 18px;
        white-space: nowrap;
        font-weight: 400;
        line-height: 30px;
        overflow: hidden;
      }
      .logo-normal {
        display: block;
        opacity: 1;
        transform: translateZ(0);
        color: white;
      }
      .admin_sidebar_wrap {
        position: relative;
        height: calc(100vh - 75px);
        width: 260px;
        z-index: 4;
        padding-bottom: 30px;
      }
      .ps {
        overflow: hidden!important;
        overflow-anchor: none;
        touch-action: auto;
      }
      .admin_user {
        padding-bottom: 20px;
        margin: 20px auto 0;
        position: relative;
      }
      .admin_user_photo {
        width: 34px;
        height: 34px;
        overflow: hidden;
        float: left;
        z-index: 5;
        margin-right: 11px;
        border-radius: 50%;
        margin-left: 23px;
        box-shadow: 0 16px 38px -12px rgb(0 0 0 / 56%), 0 4px 25px 0 rgb(0 0 0 / 12%), 0 8px 10px -5px rgb(0 0 0 / 20%);
      }
      .user-info > a {
        color: white;
        font-size: 14px;
        line-height: 18px;
        display: block;
        padding: 8px 15px;
        white-space: nowrap;
      }
      .username {
        display: block;
        line-height: 18px;
        font-size: 14px;
      }
      .admin_user:after {
        content: "";
        position: absolute;
        bottom: 0;
        right: 15px;
        height: 1px;
        width: calc(100% - 30px);
        background-color: hsla(0, 0%, 71%, .3);
      }
      .admin_nav {
        margin-top: 15px;
        display: block;
        flex-wrap: wrap;
        padding-left: 0;
        margin-bottom: 0;
        list-style: none;
      }
      .nav_link {
        color: white;
        margin: 10px 15px 0;
        border-radius: 3px;
        padding: .5rem 10px;
        text-transform: capitalize;
        font-size: 13px;
        display: flex;
        justify-content: flex-start;
        align-items: center;
        transition: all .15s ease-in;
      }
      .nav_link > i {
        font-size: 20px;
        margin-right: 15px;
        line-height: 30px;
        width: 30px;
        text-align: center;
        vertical-align: middle;
      }
      .nav_link > p {
        width: 100%;
        margin: 0;
        line-height: 30px;
        font-size: 14px;
        position: relative;
        display: block;
        height: auto;
        white-space: nowrap;
      }
      .nav-item:hover > a {
        background-color: hsla(0, 0%, 78%, .2);
        box-shadow: none;
      }
      .nav_link > p > i {
        position: absolute;
        right: 6px;
        vertical-align: middle;
        line-height: 30px;
      }
      .nav_dropdown {
        padding-left: 40px;
      }
      .collapse-show {
        height: 0;
        overflow: hidden;
      }
      .admin_main {
        height: 100%;
        max-height: 100%;
        width: calc(100% - 260px);
        float: right;
        position: relative;
      }
      .admin_main_header {
        width: 100%;
        background-color: white;
        height: 51px;
        border-bottom: 1px solid #DDDDDD;
        box-shadow: 0 2px 2px 0 rgb(0 0 0 / 14%), 0 3px 1px -2px rgb(0 0 0 / 20%), 0 1px 5px 0 rgb(0 0 0 / 12%);
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0 20px;
      }
      .admin_main_contents {
        height: 100%;
        background-color: #fafafa;
      }
      .contents_title {
        font-size: 1rem;
      }
      .right_menu > ul{
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .right_menu > ul > li {
        position: relative;
      }
      a.header_menu_item {
        width: 45px;
        height: 45px;
        display: flex;
        justify-content: center;
        align-items: center;
        margin-right: 20px;
        cursor: pointer;
        border-radius: 50%;
        border: 1.5px solid transparent;
      }
      .right_menu > ul > li:hover > a {
        border: 1.5px solid #dddddd;
        box-shadow: 0 2px 2px 0 hsl(0deg 0% 60% / 14%), 0 3px 1px -2px hsl(0deg 0% 60% / 20%), 0 1px 5px 0 hsl(0deg 0% 60% / 12%);
      }
      .right_menu > ul > li:hover > .dropdown_user {
        display: block;
      }
      .header_menu_item > i {
        font-size: 15px;
      }
      .dropdown_user {
        position: absolute;
        right: 0;
        background-color: white;
        width: 160px;
        box-shadow: 0 2px 5px 0 rgb(0 0 0 / 26%);
        border: 1.5px solid #dddddd;
        padding: 5px 0;
        z-index: 9999;
        display: none;
      }
      .dropdown_user > a {
        margin: 0 5px;
        padding: 10px 24px;
        display: block;
        border-radius: 2px;
      }
      .dropdown_user > a:hover {
        color: white;
        background-color: #3885CA;
        box-shadow: 0 4px 20px 0 rgb(0 0 0 / 14%), 0 7px 10px -5px rgb(5 0 153 / 40%);
      }
      .admin_main_contents {
        width: 100%;
        padding: 20px 40px 40px;
      }
      .contents_title > a > i {
        font-size: .9rem;
        margin-right: 5px;
      }
      .contents_title > a {
        position: relative;
      }
      .next-link{padding-left: 20px;}
      .next-link::before {
        content: '';
        background-image: url('imgs/dot_depth.gif');
        background-repeat: no-repeat;
        background-position: center center;
        position: absolute;
        top: 2px;
        left: 3px;
        width: 10px;
        height: 15px;
      }

      /* 여기까지 전체적인 레이아웃 */
      .main_item {
        color: #000;
        font-size: 2rem;
        font-weight: bold;
        padding: 10px 0 20px;
        border-bottom: 1px dashed #dadada;
      }

      /* 게시글판 디자인 */
      #metop_container {
          align-content: center;
          justify-content: center;
      }
      .metop_board_card {
          width: 85%;
          margin: 30px 0;
          padding: 40px 30px 20px 30px;
          border-radius: 2px;
          background: white;
          border-top: 3px solid #3885CA;
          box-shadow: 0 2px 2px 0 rgba(0,0,0,.14),
          0 3px 1px -2px rgba(0,0,0,.2),
          0 1px 5px 0 rgba(0,0,0,.12);
          position: relative;
      }
      /* 카드 제목 */
      .input_wrap {
          display: flex;
          align-items: center;
      }
      .last_wrap { margin-bottom: 10px; }
      .board_div {
          width: 100%;
          height: 100%;
          border-bottom: 1px solid #dadada;
          padding: 10px 10px;
          border-radius: 2px;
          font-size: 13px;
      }
      /* 제목 */
      .tile_info_wrap {
          display: flex;
          justify-content: space-between;
          align-content: center;
      }
      .type_icon {
          border-radius: 2px;
          color: #3885CA;
          padding: 2px 5px;
          margin-left: 7px;
          font-weight: normal;
          font-size: 12px;
      }
      .type_color {
          border: 1px solid #3885CA;
      }
      .post_no {
          font-size: 13px;
          color: #515151;
          font-weight: bold;
      }
      .title_text > span {
          font-size: 20px;
          color: #515151;
      }
      .regdate {
          color: #515151;
          font-size: 14px;
      }
      .updatedate {
          color: #515151;
          font-size: 14px;
          text-decoration: underline;
      }
      /* 작성자 */
      #writer_div {
          height: 48px;
          line-height: 26px;
      }
      .post_count_wrap > div {
          margin-left: 5px;
          min-width: 48px;
          height: 48px;
          border: 1px solid #ddd;
          box-sizing: border-box;
          text-align: center;
          font-size: 13px;
          font-family: sans-serif;
          color: #515151;
          cursor: pointer;
          border-radius: 5px;
          position: relative;
          overflow: hidden;
      }
      .viewcnt:hover { border: 2px solid #3885CA; }
      .replycnt:hover { border: 2px solid #FF6347; }
      .goodcnt:hover { border: 2px solid tomato; }
      .downcnt:hover { border: 2px solid mediumseagreen; }

      .post_count_wrap strong {
          font-size: 1rem;
          display: block;
          font-weight: 400;
          line-height: 26px;
      }
      .textarea_div {
          align-items: flex-start;
      }
      /* 첨부파일 */
      .form-group > label {
          margin-top: 10px;
      }
      .form-group .board_div{
          border: 1.5px dashed #dadada;
          text-align: center;
          height: 130px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #515151;
      }
      /* 등록/취소 버튼 */
      .btn_wrap {
          border: 0;
          border-radius: 0;
          display: flex;
          justify-content: space-between;
          margin-top: 25px;
      }
      .board_btn {
          padding: 12px 22px;
          background: white;
          border-radius: 2px;
          font-size: 14px;
          text-decoration: none;
          transition: box-shadow .2s cubic-bezier(.4,0,1,1),
          background-color .2s cubic-bezier(.4,0,.2,1);
          color: white;
      }
      .board_btn:hover {
          box-shadow: 0 2px 2px 0 rgba(0,0,0,.14),
          0 3px 1px -2px rgba(0,0,0,.2),
          0 1px 5px 0 rgba(0,0,0,.12);
          box-shadow: 0 14px 26px -12px hsla(0,0%,60%,.42),
          0 4px 23px 0 rgba(0,0,0,.12),
          0 8px 10px -5px hsla(0,0%,60%,.2);
      }
      /* 버튼 색상들 */
      .list_btn { background-color: #3885CA; }
      .update_btn { background-color: #EBA444; }
      .delete_btn { background-color: tomato; }
      .btn_wrap1 { margin-left: -10px; }
      .btn_wrap2 { margin-right: -10px; }

      .list_btn > i, .delete_btn > i, .update_btn > i {
          font-weight: normal;
          font-size: 17px;
          padding-right: 5px;
      }

      .uploadedList  > li {
          border-radius: 2px;
          margin-right: 5px;
          box-shadow: 0 2px 2px 0 rgba(0,0,0,.14), 0 3px 1px -2px rgba(0,0,0,.2), 0 1px 5px 0 rgba(0,0,0,.12);
      }
      /* 첨부파일 */
      .form-group {
          align-items: flex-start;
      }
      .form-group > label {
          margin-top: 10px;
      }
      .form-group .board_div{
          border: 1.5px dashed #dadada;
          text-align: center;
          height: 150px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #515151;
          font-size: 15px;
      }
      .mailbox-attachment-icon {
          padding: 10px 5px;
      }
      .mailbox-attachment-info {
          padding: 5px 10px;
          background: #303740;
          color: white;
      }
      .title_div {
          border-top: 2px solid #7c7c7c;
          background-color: #f9f9f9;
      }
      .board_div > label {
          font-weight: bold;
          padding-right: 7px;
          margin-right: 7px;
          border-right: 1px solid #EFEFEF;
      }
      .label_padding {
          padding-left: 20px;
      }
      .file_download {
          color: #007791;
      }
      .file_download:hover {
          text-decoration: underline;
      }

    </style>
  </head>
  <body>
    <div class="admin_wrap">
<!--      &lt;!&ndash; 관리자페이지 사이드바 &ndash;&gt;-->
<!--      <div class="admin_sidebar ps">-->
<!--        &lt;!&ndash; 사이드바 로고 &ndash;&gt;-->
<!--        <div class="admin_logo">-->
<!--          <a href="/" class="simple-text logo-mini">PI</a>-->
<!--          <a href="/" class="simple-text logo-normal">POLINSIGHT</a>-->
<!--        </div>-->

<!--        <div class="admin_sidebar_wrap ps">-->
<!--          &lt;!&ndash; 관리자 계정 정보 &ndash;&gt;-->
<!--          <div class="admin_user">-->
<!--            <div class="admin_user_photo">-->
<!--              <img src="circle_loppy.png" alt="user_img" style="width: 100%;"/>-->
<!--            </div>-->
<!--            <div class="user-info">-->
<!--              <a class="username">-->
<!--                <span> 관리자 </span>-->
<!--              </a>-->
<!--            </div>-->
<!--          </div>-->
<!--          &lt;!&ndash; 네비게이션 &ndash;&gt;-->
<!--          <ul class="admin_nav">-->
<!--            <li class="nav-item nav_action">-->
<!--              <a href="#" class="nav_link">-->
<!--                <i class="fas fa-th-large"></i>-->
<!--                <p>대시보드</p>-->
<!--              </a>-->
<!--            </li>-->

<!--            <li class="nav-item nav_action">-->
<!--              <a href="#" class="nav_link">-->
<!--                <i class="fas fa-user-friends"></i>-->
<!--                <p>-->
<!--                  회원관리-->
<!--                  <i class="fas fa-caret-down arrow"></i>-->
<!--                </p>-->
<!--              </a>-->
<!--            </li>-->
<!--            <div class="collapse-show">-->
<!--                <ul class="admin_nav">-->
<!--                  <li class="nav-item">-->
<!--                    <a href="#" class="nav_link">-->
<!--                      <p class="nav_dropdown">회원목록</p>-->
<!--                    </a>-->
<!--                  </li>-->
<!--                  <li class="nav-item">-->
<!--                    <a href="#" class="nav_link">-->
<!--                      <p class="nav_dropdown">이메일보내기</p>-->
<!--                    </a>-->
<!--                  </li>-->
<!--                </ul>-->
<!--            </div>-->

<!--            <li class="nav-item nav_action">-->
<!--              <a href="#" class="nav_link">-->
<!--                <i class="fas fa-clipboard-list"></i>-->
<!--                <p>-->
<!--                  게시글관리-->
<!--                  <i class="fas fa-caret-down arrow"></i>-->
<!--                </p>-->
<!--              </a>-->
<!--            </li>-->
<!--            <div class="collapse-show">-->
<!--                <ul class="admin_nav">-->
<!--                  <li class="nav-item">-->
<!--                    <a href="#" class="nav_link">-->
<!--                      <p class="nav_dropdown">공지사항</p>-->
<!--                    </a>-->
<!--                  </li>-->
<!--                  <li class="nav-item">-->
<!--                    <a href="#" class="nav_link">-->
<!--                      <p class="nav_dropdown">자료실</p>-->
<!--                    </a>-->
<!--                  </li>-->
<!--                  <li class="nav-item">-->
<!--                    <a href="#" class="nav_link">-->
<!--                      <p class="nav_dropdown">Q&A</p>-->
<!--                    </a>-->
<!--                  </li>-->
<!--                </ul>-->
<!--            </div>-->

<!--            <li class="nav-item nav_action">-->
<!--              <a href="#" class="nav_link">-->
<!--                <i class="fas fa-door-open"></i>-->
<!--                <p>EXIT</p>-->
<!--              </a>-->
<!--            </li>-->
<!--          </ul>-->
<!--        </div>-->
<!--      </div>-->


<!--      <div class="admin_main ps">-->
<!--        <div class="admin_main_header">-->
<!--          <div class="contents_title">-->
<!--            <a href="#"><i class="fas fa-user-lock"></i> Admin</a>-->
<!--            <a href="#" class="next-link">게시글관리</a>-->
<!--            <a href="#" class="next-link">공지사항</a>-->
<!--          </div>-->

<!--          <div class="right_menu">-->
<!--            <ul>-->
<!--              <li>-->
<!--                <a class="header_menu_item"><i class="fas fa-user"></i></a>-->
<!--                <div class="dropdown_user">-->
<!--                  <a href="">정보수정</a>-->
<!--                  <a href="/dologout">로그아웃</a>-->
<!--                </div>-->
<!--              </li>-->
<!--              <li>-->
<!--                <a href="/" class="header_menu_item"><i class="fas fa-door-open"></i></a>-->
<!--              </li>-->
<!--            </ul>-->
<!--          </div>-->
<!--        </div>-->
        <div class="admin_main_contents">
          <div class="admin_main_contents_category">
            <div class="admin_main_contents_item">
              <p class="main_item">공지사항</p>
            </div>
          </div>

          <section>
            <div id="metop_container">
                <div class="metop_inner">
                    <!-- 상세 게시글 창 -->
                    <div class="metop_board_wrap" th:object="${board}">
                        <div class="metop_board_card">
                            <form name="" action="" method="POST">
                                <div class="input_wrap title_div">
                                    <div class="board_div">
                                        <div class="tile_info_wrap">
                                            <div>
                                                <span class="post_no" th:text="'['+${board.id}+']번째 글'"></span>
                                            </div>
                                        </div>
                                        <div class="title_text">
                                            <span th:text="${board.title}">폴인사이트입니다.</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="input_wrap">
                                    <div class="board_div" id="writer_div">
                                        <label>작성자</label>
                                        <span th:text="*{user.name}">관리자</span>
                                    </div>
                                </div>
                                <div class="input_wrap">
                                    <div class="board_div">
                                        <label>작성일</label>
                                        <span class="regdate" th:if="${board.registeredAt == board.registeredAt}" th:text="${#temporals.format(board.registeredAt, 'yyyy-MM-dd HH:mm')}"></span>
<!--                                        <span class="updatedate" th:unless="${one.regdate == one.updatedate}" th:text="${#temporals.format(one.updatedate, 'yyyy-MM-dd HH:mm')} + '(수정)'"></span>-->

                                        <label class="label_padding">조회</label>
                                        <span th:text="${board.viewcnt}">12</span>
                                    </div>
                                </div>
                                <div th:each="file : ${board.attaches}" class="input_wrap">
                                    <div class="board_div">
                                        <label class="file_item" th:text="'첨부파일#'"></label>
                                        <a class="file_download" th:href="@{'/boards/'+${file.filePath}}" th:text="${file.originalName}"></a>
                                    </div>
                                </div>
                                <div class="input_wrap textarea_div">
                                    <div class="board_div" th:text="${board.viewcontent}">

                                    </div>
                                </div>

                                <!-- 취소 & 등록 버튼 -->
                                <div class="input_wrap last_wrap">
                                    <div class="board_div btn_wrap">
                                        <div class="btn_wrap1">
                    											<span>

                    												<a href="/admin/boards" class="board_btn list_btn"> <i class="far fa-file-alt"></i>목록</a>
                    											</span>
                                        </div>
                                        <th:block >
                                            <div class="btn_wrap2"  th:if="${user.role.toString()} =='ADMIN'">
                                                    <span>
                                                        <a th:href="@{/admin/boards/{id}/edit (id=${board.id})}" class="board_btn update_btn"><i class="fas fa-edit"></i>수정</a>
                                                    </span>
                                                    <span>
                                                        <a th:href="@{/admin/boards/{id}/delete (id=${board.id})}" class="board_btn delete_btn"><i class="far fa-trash-alt"></i>삭제</a>
                                                    </span>
                                            </div>
                                        </th:block>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>

<!--        </div>-->
<!--      </div>-->
    </div>
  </body>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script type="text/javascript">
      window.onload = function () {
          let file_item = document.getElementsByClassName("file_item");
          let fileCount = file_item.length;

          console.log(fileCount, file_item);
          for (let i = 1; i <= fileCount; i++) {
              file_item[i - 1].innerText = "첨부파일#" + i;
          }
      }


    /* <![CDATA[ */
        var bno = [[${board.id}]];
    /* ]]> */

    $(function() {
      $('.nav_action').click(function() {
        var value = $(this).find('.arrow').attr('class');
        if(value == 'fas fa-caret-down arrow') {
          $(this).next('div').css('height', '100%');
          $(this).find('.arrow').attr('class', 'fas fa-caret-up arrow');
        }else if(value == 'fas fa-caret-up arrow') {
          $(this).next('div').css('height', '0');
          $(this).find('.arrow').attr('class', 'fas fa-caret-down arrow');
        }
      });

      // 삭제버튼 클릭시 모달창 Open
      $('.delete_btn').click(function(){
          if(reply_cnt == 0) { // 댓글이 없는 경우
              $('#modal_msg_main_txt').text(bno +"번 게시글을 삭제하시겠습니까?");
              $('#modal_msg_yes').css('display', 'block');
              $('#modal_msg_cancle').text('취 소');
          } else { // 댓글이 있는 경우
              $('#modal_msg_main_txt').text("댓글이 있는 게시글은 삭제할 수 없습니다.");
              $('#modal_msg_yes').css('display', 'none');
              $('#modal_msg_cancle').text('확 인');
          }

          $('.modal_msg_wrap').css('display', 'flex');
      });

      // 삭제 알림 모달창에서 확인버튼 Click -> 게시글 삭제
      $('#modal_msg_yes').click(function(){
          $.ajax({
              type: 'DELETE',
              url: '/boards/' + bno,
              dataType: 'json',
              contentType: 'application/json; charset=utf-8',
              success: function(data) {
                  if(data == 0) {
                      $('#modal_msg_main_txt').text("댓글이 있는 게시글은 삭제할 수 없습니다.");
                      $('#modal_msg_yes').css('display', 'none');
                      $('#modal_msg_cancle').text('확 인');
                      $('.modal_msg_wrap').css('display', 'flex');
                  } else if(data == 9) {
                      $('#modal_msg_main_txt').text("비정상적인 접근입니다.");
                      $('#modal_msg_yes').css('display', 'none');
                      $('#modal_msg_cancle').text('확 인');
                      $('.modal_msg_wrap').css('display', 'flex');
                  } else {
                      location.href = "/boards"
                  }
              },
              error: function() {
                  alert('System ERROR:(');
              }
          });
      });
    });
  </script>
>>>>>>> origin/board_file
</html>

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<th:block th:include="module/common" />
<th:block th:include="layout/header" />
<head>
  <title>폴인사이트</title>
  <meta charset="UTF-8">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <style>
    .login_input {
      width: 50%;
      outline: none;
      border: none;
      border-bottom: 1.5px solid #dde0ea;
      color: #343236;
      padding: 8px 0px;
      height: 43px;
      font-size: 16px;
    }

    .login_btn_wrap > .btn-primary {
      width: 100%;
      font-weight: bold;
      float: left;
    }

    .btn-effect {
      padding: 12px;
      font-size: 18px;
      text-align: center;
      border-radius: 2px;
      cursor: pointer;
      border: 1px solid transparent;
      outline: none;
    }

    .login_content {
      width: 25rem;
      margin: 0 auto;
      text-align: center;
    }

    .modal_content {
      width: 50vw;
      border: 1px solid black;
      border-radius: 2px;
      overflow: hidden;
      margin: 0 auto;
    }

    .modal_wrap {
      height: 100vh;
      width: 100vw;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .modal_btn {
      display: inline-block;
    }

    .modal_btn_wrap {
      width: 100%;
      text-align: center;
    }

    .input_div {
      width: 100%;
      overflow: hidden;
      position: relative;
      margin-bottom: 20px;
    }

    .input_div > label > p {
      font-size: 16px;
      text-align: left;
      color: #a5dff9;
    }
  </style>
</head>
<body>

<div class="modal_wrap">
  <div class="modal_content">
    <div class="modal_login">
      <form action="/findpwd" method="post">
        <div class="input_div">
          <label for="input_email">
            <p><i class="far fa-envelope"></i>&nbsp;이메일</p>
          </label>
          <input name="email" class="login_input" id="input_email" placeholder="이메일" required type="text">
          <span class="err_msg" id="emailmsg" style="display:none;">이메일을 정확히 입력해주세요.</span>
        </div>
        <div class="input_div">
          <label for="input_name">
            <p><i class="fas fa-user"></i>&nbsp;이름</p>
          </label>
          <input name="name" class="login_input" id="input_name" placeholder="이름" required type="text">
        </div>
        <div class="modal_btn_wrap">
          <button class="modal_btn btn-primary btn-effect" onclick="location.replace('/')">홈으로&nbsp;</button>
          <input type="submit" class="modal_btn btn-primary btn-effect" th:onclick="alert('이메일로 확인코드를 전송하였습니다. 확인해주세요.')">&nbsp;<i class="fas fa-search"></i> 찾기</input>
        </div>
      </form>
    </div>
  </div>
</div>
<script>
  const emailChecker = () => {
    const regex = /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z]){5,20}@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/i;
    const emailValue = $("#input_email").val();
    const msg = $("#emailmsg")

    if (emailValue.match(regex) != null) {
      msg.css("display", "none");
    } else {
      msg.css("display", "block");
    }
  }

  $(function () {
    $("form").find(".err_msg").each(function () {
      $(this).css("display", "none");
      $(this).css("color", "red");
    })

    $(document).on('focus', '.login_input', function () {
      $(this).css('border-bottom', '1.5px solid #4C99CF');
    });
    $(document).on('blur', '.login_input', function () {
      $(this).css('border-bottom', '1.5px solid #dde0ea');
    });

    $("#input_email").on("change keydown keyup paste", emailChecker);

  })
</script>
</body>
</html>